// FORMS //

@import 'import/util';

@import 'import/constants';
@import 'import/mixins';

form fieldset {
	margin: 0 (2 * $unit) (2 * $unit) (2 * $unit);
	display: none;
	
	legend {
		@include heading;
		font-size: 1.5em;
	}

	&.current {
		display: block;
	}
}
form ul, form ol {
	list-style-type: none;
	padding: 0 !important;
	margin: 0 !important;
	
	li {
		margin: (0.75 * $unit) 0;
		
		&.required > label:after, &.required fieldset legend:after {
			content: '*';
			color: $lightBlue;
			text-transform: uppercase;
			font-weight: inherit;
			cursor: default;
		}
		&.optional > label:after, &.optional fieldset legend:after {
			content: ' (optional)';
			color: $borderGrey;
			font-weight: normal;
			font-size: 80%;
		}
		
		label, legend {
			font-weight: 500;
			font-size: 1em;
			@include sans;
			color: $medGrey;
			margin: 0;
			cursor: default;
		}
		fieldset {
			margin: 0;
		}
		fieldset ul li {
			margin: 0 $unit 0 0 !important;
			display: block;
			float: left;
		}
		fieldset label {
			color: $darkGrey;
			margin-right: $unit;
			float: right;
		}
		fieldset input {
			display: block !important;
			float: left;
			margin: 4px ($unit / 2) 4px 0 !important;
		}
		input[type="text"], input[type="password"], input[type="email"], input[type="email"], textarea {
			background: #FFFFFF !important;
			border: 1px solid $borderGrey !important;
			min-width: 12 * $unit;
			@include boxSizing(border-box);
		}
		input[disabled] {
			opacity: 0.75;
		}
		// select {
		// 	@include button($medGrey);
		// 	//padding: 0 ($unit/2) !important;
		// 	//display: block;
		// 	background-image: url(../img/2744.svg) !important;
		// 	background-position: right center !important;
		// 	background-size: 14px 14px !important;
		// 	-moz-background-size: $unit $unit !important;
		// 	background-repeat: no-repeat !important;
		// 	background-origin: content-box !important;
		// }
		// select::after {
		// 	content: '\02C7';
		// }
		textarea {
			min-height: 2 * $unit;
			min-width: 50%;
			max-height: 20 * $unit;
			@include boxSizing(border-box);
		}
	}
}
#container.nav-top form li textarea {
	max-width: $maxWidth - 4 * $unit;
}
#container.nav-side form li textarea {
	max-width: $maxWidth - 4 * $unit - $navSideWidth;
}

form div.action {
	@include toolbar;
	@include clearfix;
	margin: (2 * $unit) 0 (-$unit) 0;
	//background: lighten($lightBlue, 25%);
	padding: $unit / 2;
	border-top: 1px solid $borderGrey;
	border-bottom: none;
	@include roundBottom($unit / 2);
	
	button.primary {
		float: right;
		@include button($lightBlue, #FFFFFF)
	}
	button.secondary {
		float: left;
	}
	button.prev, button.submit {
		display: none;
	}
}

form.top {
	ul, ol {
		li.required > label:hover:after, li.required fieldset legend:hover:after {
			content: ' Required';
			font-size: 80%;
		}
		li input, li select, li textarea {
			display: block;
		}	
		li input[type="checkbox"] {
			float: left;
			margin: 4px ($unit / 2) 4px 0;
		}
	}
}

input[type="text"], input[type="password"], input[type="email"], input[type="url"], textarea {
	@include appearance(none);
	@include sans;
	font-size: 100%;
	color: $darkGrey;
	display: inline-block;
	padding: ($unit / 4) ($unit / 2) !important;
	border: 1px solid darken($lightGrey, 25%) !important;
	background: $veryLightGrey !important;
	outline: none;
	margin: 0;
	box-shadow: inset 0 1px 3px darken($lightGrey, 25%),
				0 1px #FFFFFF,
				0 0 0 $lightBlue;
	@include transition(box-shadow, 0.1s, ease);

	&:focus {
	box-shadow: inset 0 1px 3px darken($lightGrey, 25%),
				0 0 6px $blue;
	}
}
